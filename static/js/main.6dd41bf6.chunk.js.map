{"version":3,"sources":["App.js","index.js"],"names":["Public","react_default","a","createElement","Private","Login","state","redirectToPreviousRoute","login","AuthService","authenticate","_this","setState","from","this","props","location","pathname","Redirect","to","onClick","React","Component","isAuthenticated","cb","setTimeout","logout","AuthStatus","withRouter","_ref2","history","push","SecretRoute","_ref3","component","rest","Object","objectWithoutProperties","Route","assign","render","App","BrowserRouter","style","width","margin","Link","path","App_SecretRoute","ReactDOM","src_App","document","querySelector"],"mappings":"+PASMA,EAAS,kBACbC,EAAAC,EAAAC,cAAA,uCAGIC,EAAU,kBACdH,EAAAC,EAAAC,cAAA,wCAGIE,6MACJC,MAAQ,CACNC,yBAAyB,KAG3BC,MAAQ,WACNC,EAAYC,aAAa,WACvBC,EAAKC,SAAS,CAAEL,yBAAyB,+EAIpC,IACCM,GAASC,KAAKC,MAAMC,SAASV,OAAS,CAAEO,KAAM,CAAEI,SAAU,OAA1DJ,KAGR,OAFoCC,KAAKR,MAAjCC,wBAGCN,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAUC,GAAIN,IAIrBZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,gDAAwCU,EAAKI,UAC7ChB,EAAAC,EAAAC,cAAA,UAAQiB,QAASN,KAAKN,OAAtB,kBAtBYa,IAAMC,WA4BpBb,EAAc,CAClBc,iBAAiB,EACjBb,aAFkB,SAELc,GACXV,KAAKS,iBAAkB,EACvBE,WAAWD,EAAI,MAEjBE,OANkB,SAMXF,GACLV,KAAKS,iBAAkB,EACvBE,WAAWD,EAAI,OAIbG,EAAaC,YAAW,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OAC5BrB,EAAYc,gBACVtB,EAAAC,EAAAC,cAAA,qBACWF,EAAAC,EAAAC,cAAA,UAAQiB,QAAS,WACxBX,EAAYiB,OAAO,kBAAMI,EAAQC,KAAK,SAD/B,aAKX9B,EAAAC,EAAAC,cAAA,qCAIE6B,EAAc,SAAAC,GAAA,IAAcX,EAAdW,EAAGC,UAAyBC,EAA5BC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,sBAClBhC,EAAAC,EAAAC,cAACmC,EAAA,EAADF,OAAAG,OAAA,GAAWJ,EAAX,CAAiBK,OAAQ,SAACzB,GAAD,OACS,IAAhCN,EAAYc,gBACRtB,EAAAC,EAAAC,cAACmB,EAAcP,GACfd,EAAAC,EAAAC,cAACe,EAAA,EAAD,CAAUC,GAAI,CACZF,SAAU,SACVX,MAAO,CAAEO,KAAME,EAAMC,kBA4BhByB,mLAnBX,OACExC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAAA,OAAKwC,MAAO,CAACC,MAAO,IAAMC,OAAQ,WAClC5C,EAAAC,EAAAC,cAACwB,EAAD,MACE1B,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAM3B,GAAG,WAAT,aACJlB,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,CAAM3B,GAAG,YAAT,eAGNlB,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAACmC,EAAA,EAAD,CAAOS,KAAK,UAAUb,UAAWlC,IACjCC,EAAAC,EAAAC,cAACmC,EAAA,EAAD,CAAOS,KAAK,SAASb,UAAW7B,IAChCJ,EAAAC,EAAAC,cAAC6C,EAAD,CAAaD,KAAK,WAAWb,UAAW9B,aAfhCkB,aC9ElB2B,IAAST,OAAOvC,EAAAC,EAAAC,cAAC+C,EAAD,MAASC,SAASC,cAAc","file":"static/js/main.6dd41bf6.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Route,\n  Link,\n  Redirect,\n  withRouter,\n  BrowserRouter as Router,\n} from 'react-router-dom';\n\nconst Public = () => (\n  <div> This is a public page </div>\n);\n\nconst Private = () => (\n  <div> This is a private page </div>\n);\n\nclass Login extends React.Component {\n  state = {\n    redirectToPreviousRoute: false\n  };\n\n  login = () => {\n    AuthService.authenticate(() => {\n      this.setState({ redirectToPreviousRoute: true });\n    });\n  };\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    const { redirectToPreviousRoute } = this.state;\n\n    if (redirectToPreviousRoute) {\n      return <Redirect to={from} />;\n    }\n\n    return (\n      <div>\n        <p>You must log in to view the page at {from.pathname}</p>\n        <button onClick={this.login}>Log in</button>\n      </div>\n    );\n  }\n}\n\nconst AuthService = {\n  isAuthenticated: false,\n  authenticate(cb) {\n    this.isAuthenticated = true\n    setTimeout(cb, 100)\n  },\n  logout(cb) {\n    this.isAuthenticated = false\n    setTimeout(cb, 100)\n  }\n}\n\nconst AuthStatus = withRouter(({ history }) => (\n  AuthService.isAuthenticated ? (\n    <p>\n      Welcome! <button onClick={() => {\n        AuthService.logout(() => history.push('/'))\n      }}>Sign out</button>\n    </p>\n  ) : (\n    <p>You are not logged in.</p>\n  )\n));\n\nconst SecretRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    AuthService.isAuthenticated === true\n      ? <Component {...props} />\n      : <Redirect to={{\n          pathname: '/login',\n          state: { from: props.location }\n        }} />\n  )} />\n);\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div style={{width: 1000, margin: '0 auto'}}>\n        <AuthStatus />\n          <ul>\n            <li><Link to='/public'> Public </Link></li>\n            <li><Link to='/private'> Private </Link></li>\n          </ul>\n\n          <hr/>\n\n          <Route path='/public' component={Public} />\n          <Route path='/login' component={Login} />\n          <SecretRoute path='/private' component={Private} />\n        </div>\n      </Router>\n    );\n  }\n}\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.querySelector('#root'))"],"sourceRoot":""}